<!DOCTYPE html>
<html>
<head>
	<title>QR Code Scanner</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
		body {
			font-family: Arial, Helvetica, sans-serif;
			background-color: #f1f1f1;
		}
		.container {
			background-color: #ffffff;
			border-radius: 10px;
			box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.2);
			padding: 20px;
			margin: 50px auto;
			max-width: 500px;
			text-align: center;
		}
		#video {
			width: 100%;
			max-width: 500px;
			margin-bottom: 20px;
		}
		.success {
			color: #4CAF50;
		}
		.error {
			color: #f44336;
		}
	</style>
</head>
<body>
	<div class="container">
		<h2>Scan QR Code</h2>
		<video id="video" playsinline></video>
		<div id="output"></div>
	</div>
	<script src="https://cdn.jsdelivr.net/npm/jsqr/dist/jsqr.min.js"></script>
	<script>
		// Check for camera support
		if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
			alert('Sorry, camera access is not available.');
		} else {
			// Access the camera
			navigator.mediaDevices.getUserMedia({ video: true })
				.then(function (stream) {
					// Set the video element source
					var video = document.getElementById('video');
					video.srcObject = stream;
					video.play();

					// Start scanning for QR codes
					setInterval(function () {
						var canvas = document.createElement('canvas');
						canvas.width = video.videoWidth;
						canvas.height = video.videoHeight;
						canvas.getContext('2d').drawImage(video, 0, 0);
						var imageData = canvas.getContext('2d').getImageData(0, 0, canvas.width, canvas.height);
						var code = jsQR(imageData.data, imageData.width, imageData.height, {
							inversionAttempts: 'dontInvert',
						});

						if (code) {
							// Check if the scanned QR code matches the expected string
							if (code.data === 'CB.EN.U4CSE21435') {
								document.getElementById('output').innerHTML = '<p class="success">QR Code Verified!</p>';
							} else {
								document.getElementById('output').innerHTML = '<p class="error">QR Code Error!</p>';
							}
						}
					}, 100);
				})
				.catch(function (error) {
					console.error(error);
				});
		}
	</script>
</body>
</html>
